# 📊 Οδηγός Tracking Αναπληρώσεων με Firebase

## ✅ Τι έχει δημιουργηθεί:

### 1. **Αρχεία Firebase**
- `src/firebase/config.js` - Firebase configuration
- `src/firebase/database.js` - Βασικές λειτουργίες βάσης
- `src/firebase/tracking.js` - **Tracking αναπληρώσεων** ⭐
- `src/firebase/README.md` - Οδηγίες χρήσης

### 2. **Component Στατιστικών**
- `src/components/ReplacementStats.js` - Modal με στατιστικά
- `src/components/ReplacementStats.css` - Styling

### 3. **Ενημερώσεις MainWindow**
- Αυτόματη αποθήκευση αναπληρώσεων
- Κουμπί "📊 Στατιστικά"

## 🚀 Πώς Λειτουργεί:

### Αυτόματη Αποθήκευση
Κάθε φορά που προσθέτεις ή αλλάζεις αναπληρώσεις, το σύστημα:
1. Περιμένει 2 δευτερόλεπτα (debounce)
2. Αποθηκεύει αυτόματα στο Firebase:
   - Ποιος καθηγητής έκανε αναπλήρωση
   - Σε ποια περίοδο
   - Αντί ποιου καθηγητή
   - Ποιο μάθημα
3. Ενημερώνει τα εβδομαδιαία στατιστικά

### Στατιστικά
Πάτα το κουμπί "📊 Στατιστικά" για να δεις:

#### Εβδομαδιαία Στατιστικά:
- 🏆 Top 10 αναπληρωτές της εβδομάδας
- 🥇🥈🥉 Medals για τους 3 πρώτους
- Πόσες αναπληρώσεις έκανε κάθε καθηγητής
- Πόσες ημέρες έκανε αναπληρώσεις
- Σύνολο αναπληρώσεων εβδομάδας

#### Συνολικά Στατιστικά (Όλο το Έτος):
- Όλοι οι καθηγητές ταξινομημένοι κατά αναπληρώσεις
- Συνολικές αναπληρώσεις κάθε καθηγητή
- Γενικό σύνολο αναπληρώσεων

## 📁 Δομή Δεδομένων στο Firebase:

```
replacements/
├── daily/
│   ├── 2025-01-15/
│   │   ├── date: "2025-01-15"
│   │   ├── weekNumber: "2025-W03"
│   │   ├── replacements:
│   │   │   ├── ΓΕΩΡΓΙΟΥ ΕΥΘΥΜΙΑ:
│   │   │   │   ├── count: 3
│   │   │   │   └── periods: [...]
│   │   │   └── ΑΛΕΞΟΠΟΥΛΟΣ ΓΙΩΡΓΟΣ:
│   │   │       ├── count: 2
│   │   │       └── periods: [...]
│   │   └── timestamp: 1736899200000
│   └── 2025-01-16/
│       └── ...
└── weekly/
    ├── 2025-W03/
    │   ├── weekNumber: "2025-W03"
    │   ├── totalReplacements: 25
    │   ├── teachers:
    │   │   ├── ΓΕΩΡΓΙΟΥ ΕΥΘΥΜΙΑ:
    │   │   │   ├── totalCount: 8
    │   │   │   └── days:
    │   │   │       ├── 2025-01-15: 3
    │   │   │       ├── 2025-01-16: 2
    │   │   │       └── 2025-01-17: 3
    │   │   └── ...
    │   └── lastUpdated: 1736899200000
    └── ...
```

## 🎯 Χαρακτηριστικά:

### ✅ Αυτόματη Αποθήκευση
- Δεν χρειάζεται να πατάς "Save"
- Αποθηκεύει κάθε 2 δευτερόλεπτα μετά από αλλαγή
- Console log: "✅ Αναπληρώσεις αποθηκεύτηκαν στο Firebase"

### ✅ Real-time Tracking
- Κάθε ημέρα καταγράφεται ξεχωριστά
- Αυτόματη ομαδοποίηση ανά εβδομάδα
- Υπολογισμός συνολικών ανά έτος

### ✅ Εβδομαδιαίος Υπολογισμός
- Αυτόματη ανίχνευση εβδομάδας (ISO week number)
- Συγκέντρωση δεδομένων από όλες τις ημέρες της εβδομάδας
- Σύνολο αναπληρώσεων ανά καθηγητή ανά εβδομάδα

### ✅ Όμορφο UI
- Medals 🥇🥈🥉 για τους 3 πρώτους
- Color coding: Χρυσό, Ασημί, Χάλκινο
- Smooth animations
- Responsive design

## 🔥 Πώς να το Χρησιμοποιήσεις:

1. **Πρόσθεσε αναπληρώσεις όπως συνήθως**
   - Drag & drop καθηγητών
   - Θα αποθηκευτούν αυτόματα

2. **Δες τα στατιστικά**
   - Πάτα "📊 Στατιστικά"
   - Επίλεξε "📅 Εβδομάδα" ή "📈 Σύνολο Έτους"

3. **Βρες ποιος έχει περισσότερες αναπληρώσεις**
   - Ταξινομημένη λίστα από τον πρώτο στον τελευταίο

## 📱 Firebase Console:

Πρόσβαση: https://console.firebase.google.com/project/anaplirosis-v2/database

Εκεί μπορείς να δεις:
- Όλα τα δεδομένα σε realtime
- Ιστορικό αναπληρώσεων
- Backup/Export δεδομένων

## 🔐 Ασφάλεια:

Βεβαιώσου ότι έχεις ρυθμίσει τα Firebase Rules:

```json
{
  "rules": {
    "replacements": {
      ".read": true,
      ".write": true
    }
  }
}
```

## 💡 Tips:

- Το σύστημα χρησιμοποιεί debouncing για να μην υπερφορτώνει το Firebase
- Τα δεδομένα είναι persistent - δεν χάνονται με refresh
- Μπορείς να δεις ιστορικό από παλιές εβδομάδες
- Το week number ακολουθεί το ISO 8601 standard

## 🆘 Troubleshooting:

### "Permission denied"
→ Έλεγξε τα Firebase Rules

### Δεν εμφανίζονται στατιστικά
→ Βεβαιώσου ότι έχεις προσθέσει αναπληρώσεις πρώτα
→ Έλεγξε το console για errors

### Slow loading
→ Το Firebase είναι γρήγορο
→ Αν έχεις πρόβλημα, check your internet connection

## 🎉 Enjoy!

Τώρα μπορείς να παρακολουθείς ποιος καθηγητής κάνει περισσότερες αναπληρώσεις και να διανέμεις δικαιότερα τις αναπληρώσεις!

